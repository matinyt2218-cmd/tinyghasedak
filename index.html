<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tiny Ghasedak</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:"Vazirmatn",sans-serif;}
body{
    background:linear-gradient(135deg,#2ab5ff 0%, #86e4ff 30%, #ffffff 80%);
    min-height:100vh;
    padding-bottom:120px;
}

/* ========================= Ù‡Ø¯Ø± ========================= */
header{
    width:100%;
    background:rgba(0,90,160,0.45);
    backdrop-filter:blur(12px);
    padding:20px 15px 30px;
    text-align:center;
    color:white;
    border-bottom:2px solid rgba(255,255,255,0.3);
    position:relative;
}
header h1{font-size:24px;margin-bottom:10px;}
#topRight{
    position:absolute;
    top:15px;
    left:15px;
    display:flex;
    gap:15px;
    font-size:26px;
    cursor:pointer;
    transition:.3s;
}
#topRight span:hover{transform:scale(1.15);}
#cartIcon.bump{animation:bump .3s ease;}
@keyframes bump{
    0%{transform:scale(1);}
    50%{transform:scale(1.25);}
    100%{transform:scale(1);}
}

#search{
    width:85%;
    max-width:350px;
    padding:10px 15px;
    border-radius:14px;
    border:none;
    background:white;
    font-size:16px;
    box-shadow:0 3px 10px rgba(0,0,0,.15);
}

/* ========================= Ù…Ø­ØµÙˆÙ„Ø§Øª ========================= */
#products{
    padding:20px;
    display:grid;
    gap:15px;
    grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
}
.item{
    background:white;
    padding:10px;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,.15);
    cursor:pointer;
    transition:.35s;
    text-align:center;
    opacity:0;
    transform:translateY(20px);
    animation:itemFade .5s forwards;
}
.item:nth-child(1){animation-delay:.05s}
.item:nth-child(2){animation-delay:.15s}
.item:nth-child(3){animation-delay:.25s}
.item:nth-child(4){animation-delay:.35s}
.item:nth-child(5){animation-delay:.45s}

@keyframes itemFade{
    to{opacity:1;transform:translateY(0);}
}

.item:hover{
    transform:scale(1.07);
    box-shadow:0 6px 18px rgba(0,0,0,.25);
}
.item img{
    width:100%;
    border-radius:12px;
    margin-bottom:8px;
    transition:.35s;
}
.item:hover img{transform:scale(1.05);}

/* ========================= Ù…ÙˆØ¯Ø§Ù„ Ø³Ø§Ø¯Ù‡ ========================= */
#modal{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,.45);
    display:none;justify-content:center;align-items:center;
}
#modalContent{
    background:white;padding:20px;border-radius:16px;
    width:90%;max-width:350px;text-align:center;
    animation:pop .25s ease;
}
@keyframes pop{0%{transform:scale(.7);opacity:0;}100%{transform:scale(1);opacity:1;}}

#modalContent button{
    width:100%;padding:12px;margin-top:10px;
    border:none;border-radius:14px;font-size:16px;
    cursor:pointer;transition:.25s;
    font-weight:bold;
}
.btn-blue{background:#2196f3;color:white;}
.btn-blue:hover{background:#0d6cd6;}
.btn-red{background:#e20000;color:white;}
.btn-red:hover{background:#b30000;}

/* ========================= Ù¾Ù†Ù„ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ ========================= */
#cartPanel{
    position:fixed;top:0;right:0;
    width:300px;height:100vh;
    background:rgba(255,255,255,.7);
    backdrop-filter:blur(14px);
    box-shadow:-4px 0 12px rgba(0,0,0,.2);
    transform:translateX(100%);
    transition:.35s ease;
    z-index:9999;
    padding:20px;
    display:flex;flex-direction:column;
    border-radius:20px 0 0 20px;
}
#cartPanel.open{transform:translateX(0);}
#cartPanel h3{margin-bottom:10px;font-size:20px;}

#cartItems{flex:1;overflow-y:auto;list-style:none;}

#cartItems li{
    display:flex;justify-content:space-between;align-items:center;
    background:rgba(255,255,255,.8);
    padding:10px;border-radius:12px;
    margin-bottom:10px;
    box-shadow:0 3px 8px rgba(0,0,0,.15);
}

#cartItems img{
    width:55px;height:55px;border-radius:10px;margin-left:10px;
}

.qty{
    display:flex;align-items:center;border-radius:8px;overflow:hidden;
    border:1px solid #ccc;
}
.qty button{
    background:#2196f3;color:white;border:none;padding:5px 10px;
    cursor:pointer;font-size:18px;transition:.25s;
}
.qty button:hover{background:#0d6cd6;}
.qty span{
    background:white;padding:6px 10px;min-width:28px;text-align:center;
}

.removeBtn{
    background:#e20000;color:white;border:none;
    width:26px;height:26px;border-radius:8px;font-size:18px;
    cursor:pointer;
}

#cartTotal{margin:10px 0;font-weight:bold;font-size:17px;}

#checkoutBtn{
    background:#2196f3;color:white;border:none;border-radius:14px;
    padding:12px;font-size:17px;cursor:pointer;transition:.25s;
}
#checkoutBtn:hover{background:#0d6cd6;}

/* ========================= Checkout ========================= */
#overlay{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(255,255,255,0.07);
    backdrop-filter:blur(8px);
    display:none;justify-content:center;align-items:center;
    z-index:9000;
}
#checkoutBox{
    background:white;padding:20px;border-radius:16px;
    width:90%;max-width:400px;max-height:80vh;
    overflow-y:auto;animation:pop .25s ease;
}
#checkoutList li{
    display:flex;gap:10px;align-items:center;
    border-bottom:1px solid #ddd;padding:8px 0;
}
#checkoutList img{
    width:60px;height:60px;border-radius:10px;
}
.line{margin:10px 0;border-bottom:1px solid #ccc;}

#backBtn{
    width:100%;padding:12px;border:none;border-radius:14px;
    background:#2196f3;color:white;font-size:17px;cursor:pointer;
}

/* ========================= Ù…ÙˆØ¨Ø§ÛŒÙ„ ========================= */
@media(max-width:500px){
    #cartPanel{
        width:100%;
        border-radius:0;
    }
}
</style>
</head>
<body>

<header>
    <h1>Tiny Ghasedak</h1>
    <input type="text" id="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„...">
    <div id="topRight">
        <span id="cartIcon">ğŸ›’</span>
    </div>
</header>

<!-- ========================= Ù…Ø­ØµÙˆÙ„Ø§Øª ========================= -->
<div id="products">
    <div class="item" onclick="openModal('Ø´Ø§Ù„ Ø±ÛŒØ² Ø¨Ø§ÙØª Ø·Ø±Ø­ Ø¯Ø§Ø±',285000,'Shal1.jpg')">
        <img src="Shal1.jpg"><p>Ø´Ø§Ù„ Ø±ÛŒØ² Ø¨Ø§ÙØª Ø·Ø±Ø­ Ø¯Ø§Ø±</p>
    </div>
    <div class="item" onclick="openModal('Ø´Ø§Ù„ Ø¨Ø§ÙØª Ø±ÛŒØ²',285000,'Shal2.jpg')">
        <img src="Shal2.jpg"><p>Ø´Ø§Ù„ Ø¨Ø§ÙØª Ø±ÛŒØ²</p>
    </div>
    <div class="item" onclick="openModal('Ø´Ø§Ù„ Ø§Ø³Ù„Ù¾ Ù¾ÛŒÚ¯Ù…Ù†Øª Ù…Ù†Ú¯ÙˆÙ„Ù‡ Ø¯Ø§Ø±',235000,'Shal3.jpg')">
        <img src="Shal3.jpg"><p>Ø´Ø§Ù„ Ø§Ø³Ù„Ù¾ Ù¾ÛŒÚ¯Ù…Ù†Øª Ù…Ù†Ú¯ÙˆÙ„Ù‡ Ø¯Ø§Ø±</p>
    </div>
    <div class="item" onclick="openModal('Ø´Ø§Ù„ Ù†Ø®ÛŒ Ú©Ù†Ø¯ÙˆÛŒÛŒ Û±',215000,'Shal4.jpg')">
        <img src="Shal4.jpg"><p>Ø´Ø§Ù„ Ù†Ø®ÛŒ Ú©Ù†Ø¯ÙˆÛŒÛŒ Û±</p>
    </div>
    <div class="item" onclick="openModal('Ø´Ø§Ù„ Ù†Ø®ÛŒ Ú©Ù†Ø¯ÙˆÛŒÛŒ Û²',215000,'Shal5.jpg')">
        <img src="Shal5.jpg"><p>Ø´Ø§Ù„ Ù†Ø®ÛŒ Ú©Ù†Ø¯ÙˆÛŒÛŒ Û²</p>
    </div>
</div>

<!-- ========================= Ù…ÙˆØ¯Ø§Ù„ ========================= -->
<div id="modal" onclick="closeModal()">
    <div id="modalContent" onclick="event.stopPropagation()">
        <h3 id="mTitle"></h3>
        <p id="mPrice"></p>
        <button class="btn-blue" onclick="addToCart()">Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
        <button class="btn-red" onclick="closeModal()">Ø¨Ø³ØªÙ†</button>
    </div>
</div>

<!-- ========================= Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ ========================= -->
<div id="cartPanel">
    <h3>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
    <ul id="cartItems"></ul>
    <p id="cartTotal">Ø¬Ù…Ø¹ Ú©Ù„: 0 ØªÙˆÙ…Ø§Ù†</p>
    <button id="checkoutBtn">Ø§Ø¯Ø§Ù…Ù‡</button>
</div>

<!-- ========================= Checkout ========================= -->
<div id="overlay">
    <div id="checkoutBox">
        <h3>Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´</h3>
        <ul id="checkoutList"></ul>
        <div class="line"></div>
        <p style="margin:10px 0;font-weight:bold;">Ø¬Ù…Ø¹ Ú©Ù„: <span id="checkoutSum">0</span> ØªÙˆÙ…Ø§Ù†</p>
        <p style="font-size:14px;color:#555;margin:10px 0;">
            Ø¬Ù‡Øª Ø§Ø¯Ø§Ù…Ù‡ ÙØ±Ø§ÛŒÙ†Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ø±Ø§ Ø¯Ø§Ø®Ù„ Ø¯Ø§ÛŒØ±Ú©Øª Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.
        </p>
        <button id="backBtn">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
    </div>
</div>

<!-- ========================= JAVASCRIPT ========================= -->
<script>
let cart=[];
let selected={};

/* Ø¬Ø³ØªØ¬Ùˆ */
search.addEventListener("input",function(){
    const val=this.value.toLowerCase();
    document.querySelectorAll(".item").forEach(it=>{
        it.style.display = it.innerText.toLowerCase().includes(val) ? "block" : "none";
    });
});

/* Ù…ÙˆØ¯Ø§Ù„ */
function openModal(t,p,img){
    selected={title:t,price:p,img,quantity:1};
    mTitle.innerText=t;
    mPrice.innerText="Ù‚ÛŒÙ…Øª: "+p.toLocaleString()+" ØªÙˆÙ…Ø§Ù†";
    modal.style.display="flex";
}
function closeModal(){modal.style.display="none";}

/* Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯ */
cartIcon.onclick=e=>{
    e.stopPropagation();
    cartPanel.classList.toggle("open");
};

/* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù† */
cartPanel.onclick=e=>e.stopPropagation();
document.body.onclick=()=>cartPanel.classList.remove("open");

/* Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ */
function addToCart(){
    let ex=cart.find(i=>i.title===selected.title);
    if(ex) ex.quantity++;
    else cart.push({...selected});
    updateCart();

    /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù„Ø±Ø²Ø´ Ø³Ø¨Ø¯ */
    cartIcon.classList.add("bump");
    setTimeout(()=>cartIcon.classList.remove("bump"),300);

    closeModal();
}

/* Ø¢Ù¾Ø¯ÛŒØª Ø³Ø¨Ø¯ */
function updateCart(){
    cartItems.innerHTML="";
    let total=0;

    cart.forEach((i,idx)=>{
        total+=i.price*i.quantity;
        cartItems.innerHTML += `
<li>
    <div style="display:flex;align-items:center;">
        <img src="${i.img}">
        <span>${i.title}</span>
    </div>
    <div style="display:flex;align-items:center;gap:5px;">
        <div class="qty">
            <button onclick="changeQty(event,${idx},1)">+</button>
            <span>${i.quantity}</span>
            <button onclick="changeQty(event,${idx},-1)">-</button>
        </div>
        <button class="removeBtn" onclick="removeItem(event,${idx})">Ã—</button>
    </div>
</li>
`;
    });

    cartTotal.innerText="Ø¬Ù…Ø¹ Ú©Ù„: "+total.toLocaleString()+" ØªÙˆÙ…Ø§Ù†";
}

/* ØªØºÛŒÛŒØ± ØªØ¹Ø¯Ø§Ø¯ */
function changeQty(event,i,d){
    event.stopPropagation();
    cart[i].quantity+=d;
    if(cart[i].quantity<1) cart[i].quantity=1;
    updateCart();
}

/* Ø­Ø°Ù */
function removeItem(event,i){
    event.stopPropagation();
    cart.splice(i,1);
    updateCart();
}

/* Checkout */
checkoutBtn.onclick=e=>{
    e.stopPropagation();
    if(cart.length===0) return;

    cartPanel.classList.remove("open");
    overlay.style.display="flex";

    checkoutList.innerHTML="";
    let sum=0;

    cart.forEach(i=>{
        sum+=i.price*i.quantity;
        checkoutList.innerHTML += `
<li>
    <img src="${i.img}">
    <div>
        <b>${i.title}</b><br>
        ØªØ¹Ø¯Ø§Ø¯: ${i.quantity}<br>
        Ù‚ÛŒÙ…Øª: ${(i.price*i.quantity).toLocaleString()} ØªÙˆÙ…Ø§Ù†
    </div>
</li>
`;
    });

    checkoutSum.innerText=sum.toLocaleString();
};

/* Ø¨Ø³ØªÙ† Checkout */
backBtn.onclick=()=>overlay.style.display="none";
</script>

</body>
</html>
